---
import Layout from "../layouts/Layout.astro";
import RecipeCard from "../components/RecipeCard.astro";
import { getCollection, type CollectionEntry } from "astro:content";

const recipes: CollectionEntry<"recipes">[] = await getCollection("recipes");
recipes.sort((r1, r2) =>
	(r1.data.letter ?? r1.data.title).localeCompare(
		r2.data.letter ?? r2.data.title,
	),
);
---

<Layout title="Drew's Recipe Box">
	<main class="m-auto p-4 text-xl w-full max-w-5xl">
		<h1 class="text-6xl font-bold mt-6 mb-8">Drew's Recipe Box</h1>
		<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
			{recipes.map((r) => <RecipeCard recipe={r} />)}
		</div>
	</main>
</Layout>
